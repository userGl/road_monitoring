# Задание 1: Постановка задачи и жизненный цикл проекта

## 1. Переформулировка бизнес-задачи в ML/CV-терминах

### Бизнес-задача:
Автоматизировать контроль состояния дорожного полотна для транспортных средств, обеспечивая раннее обнаружение дефектов и оптимизацию ремонтных работ.

### ML/CV-термины:
- **Задача семантической сегментации** дефектов дорожного покрытия (ямы, трещины, выбоины, колейность) на видеопотоке
- **Задача детекции объектов** с классификацией типов дефектов
- **Задача фузионного анализа** мультимодальных данных (видео + IMU-датчики) для снижения ложных срабатываний
- **Задача геопривязки** обнаруженных дефектов к координатам GPS/ГЛОНАСС
- **Задача регрессии** для оценки тяжести дефекта (глубина, площадь, категория риска)

## 2. Анализ предметной области

### 2.1. Контекст

**Отрасль:** Транспортная инфраструктура, умные города, дорожное хозяйство

**Тип оборудования:**
- Бортовые IP-камеры (1080p@30fps), направленные на дорожное полотно
- 6-осевой IMU (500 Гц)
- Датчики подвески
- GPS/ГЛОНАСС модуль (10 Гц, точность 3 м)
- Edge-устройство Rockchip RK3588

**Типичные сценарии:**
- Автобус/троллейбус движется по городским маршрутам
- Служебный автомобиль проводит инспекцию междугородних трасс
- Система работает автономно, без постоянного интернет-соединения
- Данные передаются при первой возможности (критические дефекты <10 сек, полный лог в 04:00)

**Участники процесса:**
- Водитель транспортного средства (пассивный пользователь)
- Оператор дорожной службы (получает данные о дефектах)
- Инженер-дорожник (принимает решение о ремонте)
- Диспетчер транспортного депо (мониторинг состояния парка)

### 2.2. Ключевые метрики эффективности

**Метрики качества детекции:**
- Recall (обнаружение реальных дефектов): ≥90%
- Precision (доля реальных среди найденных): ≥85%


**Метрики производительности:**
- Задержка от детекции до логирования: ≤300 мс
- Обработка видеопотока: 1080p@30fps + IMU 500 Гц
- Пространственное разрешение: ≤0.5 м при скорости до 80 км/ч


**Метрики бизнес-эффективности:**
- Снижение количества ДТП, вызванных дефектами дорожного полотна: на 20%
- Оптимизация бюджетов на ремонт за счёт целевого выявления проблемных участков
- Повышение комфорта пассажиров и ресурса транспортных средств

### 2.3. Обзор известных решений

#### Решение 1: Road Damage Detection 2022 (RDD2022)
- **Тип задачи:** Детекция и классификация дефектов дорожного покрытия
- **Методы и инструменты:** YOLO, Faster R-CNN, Mask R-CNN, TensorFlow/PyTorch
- **Преимущества:** Большой открытый датасет (26000+ изображений), несколько типов дефектов
- **Недостатки:** Требует облачной обработки, нет интеграции с IMU-данными
- **Лицензия:** CC BY 4.0
- **Поддержка edge/cloud:** Cloud-based, требует GPU для инференса
- **Аппаратные требования:** GPU (NVIDIA), не оптимизировано для RK3588

#### Решение 2: CrackForest Dataset + U-Net
- **Тип задачи:** Сегментация трещин на дорожном покрытии
- **Методы и инструменты:** U-Net, FCN, SegNet, PyTorch
- **Преимущества:** Специализация на трещинах, хорошая точность сегментации
- **Недостатки:** Только трещины, не учитывает другие типы дефектов, статичные изображения
- **Лицензия:** Открытый датасет
- **Поддержка edge/cloud:** Может работать на edge, но требует оптимизации
- **Аппаратные требования:** Средние, можно адаптировать для RK3588

#### Решение 3: RoadBot (коммерческое решение)
- **Тип задачи:** Комплексный мониторинг дорожного полотна
- **Методы и инструменты:** Проприетарные алгоритмы, облачная платформа
- **Преимущества:** Коммерческая зрелость, интеграция с дорожными службами
- **Недостатки:** Закрытый код, высокая стоимость, зависимость от облака
- **Лицензия:** Коммерческая
- **Поддержка edge/cloud:** Cloud-based, требует постоянного интернета
- **Аппаратные требования:** Специализированное оборудование, высокая стоимость

#### Решение 4: OpenRoad (Open Source на GitHub)
- **Тип задачи:** Детекция дефектов дорог с использованием YOLOv5
- **Методы и инструменты:** YOLOv5, OpenCV, Python
- **Преимущества:** Open-source, возможность кастомизации, активное сообщество
- **Недостатки:** Нет интеграции с IMU, ограниченная поддержка edge-устройств
- **Лицензия:** MIT
- **Поддержка edge/cloud:** Может работать на edge, но требует доработки для RK3588
- **Аппаратные требования:** Умеренные, можно адаптировать

### 2.4. Сравнительная таблица решений

| Название решения | Тип задачи | Методы и инструменты | Преимущества | Недостатки | Лицензия | Поддержка edge/cloud | Аппаратные требования |
|-----------------|------------|---------------------|--------------|------------|----------|---------------------|----------------------|
| RDD2022 | Детекция и классификация | YOLO, Faster R-CNN, Mask R-CNN, TensorFlow/PyTorch | Большой датасет, несколько типов дефектов | Требует облака, нет IMU | CC BY 4.0 | Cloud-based, GPU | NVIDIA GPU |
| CrackForest + U-Net | Сегментация трещин | U-Net, FCN, SegNet, PyTorch | Специализация на трещинах, хорошая точность | Только трещины, статичные изображения | Открытый | Edge (с оптимизацией) | Средние, адаптируемо |
| RoadBot | Комплексный мониторинг | Проприетарные алгоритмы | Коммерческая зрелость, интеграция | Закрытый код, высокая стоимость, облако | Коммерческая | Cloud-based | Специализированное |
| OpenRoad | Детекция дефектов | YOLOv5, OpenCV, Python | Open-source, кастомизация | Нет IMU, ограниченная поддержка edge | MIT | Edge (с доработкой) | Умеренные |

### 2.5. Стейкхолдеры

**Заказчик:**
- Дорожные службы (муниципальные, региональные)
- Управляющие компании умных городов
- Транспортные депо (автобусные парки, троллейбусные управления)
- Государственные органы (Министерство транспорта, Росавтодор)

**Пользователи:**
- Оператор дорожной службы (мониторинг данных о дефектах)
- Инженер-дорожник (анализ данных, планирование ремонтов)
- Диспетчер транспортного депо (мониторинг состояния парка)
- Водитель транспортного средства (пассивный пользователь)

**Регуляторы:**
- Росавтодор (требования к состоянию дорожного полотна)
- ГОСТ Р 50597-2017 (требования к эксплуатационному состоянию дорог)
- Региональные органы власти (стандарты мониторинга инфраструктуры)

**Операторы:**
- Технический персонал (обслуживание оборудования, калибровка)
- Системные администраторы (настройка передачи данных, обновление ПО)

## 3. Ограничения

### 3.1. Аппаратные ограничения
- Инференс на Rockchip RK3588 (6 TOPS NPU, выделено ≤4 TOPS для системы)
- Потребление NPU: ≤4 TOPS (оставляя ресурсы для других модулей)
- Пиковое энергопотребление: ≤15 Вт
- Обработка видеопотока 1080p@30fps + IMU 500 Гц на одном устройстве
- Работа при температуре: –40°C…+70°C
- Устойчивость к вибрации: до 5g

### 3.2. Временные ограничения
- Разработка MVP в рамках учебного проекта (семестр)
- Задержка от детекции до логирования: ≤300 мс
- Отправка критических дефектов в реальном времени: <10 сек
- Ежедневная выгрузка полного лога: в 04:00

### 3.3. Юридические ограничения
- Соответствие требованиям ГОСТ Р 50597-2017
- Защита данных при аварийном отключении (journaling ФС)
- Анонимизация данных (не хранение персональных данных пассажиров)
- Согласие на обработку данных (если требуется)

### 3.4. Бюджетные ограничения
- Использование open-source решений (без расходов на коммерческие лицензии)
- Минимизация затрат на облачную инфраструктуру (edge-обработка)
- Использование существующего оборудования (RK3588 уже в парке)

## 4. Критерии успеха

### 4.1. Количественные критерии
-

### 4.2. Качественные критерии
- Система не должна требовать ручной настройки оператора перед каждым запуском
- Автономная работа без постоянного интернет-соединения
- Устойчивость к различным погодным условиям (дождь, снег, туман)
- Устойчивость к различным условиям освещения (день, ночь, тени)
- Фильтрация ложных срабатываний (тени, мусор, дорожная разметка)
- Корреляция визуальных и инерционных аномалий для снижения ложных срабатываний

## 5. Границы проекта

### 5.1. Что входит в проект
- Детекция дефектов дорожного полотна (ямы, трещины, выбоины, колейность, неровности)
- Классификация типов дефектов и оценка тяжести (низкий/средний/высокий/критический риск)
- Геопривязка дефектов к координатам GPS/ГЛОНАСС
- Фузионный анализ данных с камеры и IMU-датчиков
- Формирование событий с фото/видео-фрагментами (5 сек)
- Передача данных о критических дефектах в реальном времени (<10 сек)
- Ежедневная выгрузка полного лога в 04:00
- Автономная работа на edge-устройстве (без постоянного интернета)
- Поддержка стандартов: GeoJSON, Protocol Buffers, MQTT, REST API



